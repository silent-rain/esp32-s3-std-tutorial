# 主机和从机之间的 I2C 通信

这个程序是用来测试同一个设备上的主机和从机之间的 I2C 通信的。
这里提醒用户，ESP32-C2/C3 没有两个 I2C 外设，所以这个例子不适用。

程序由三个部分组成：

- 第一部分是简单的主机写入，主机写入 8 个字节，并打印出从机接收到的内容。
- 第二部分是简单的主机读取，主机读取 8 个字节，并打印出来。
- 第三部分是读写寄存器，向一个寄存器地址写入一个值，并读取回来。

注： 示例来源于官方。

## 引脚

### ESP32-S3

- GPIO20 to GPIO18： GPIO20 连接到 GPIO18
- GPIO21 to GPIO19： GPIO21 连接到 GPIO19

## 执行指令

```shell
cargo run -r -p i2c_master_slave
```
